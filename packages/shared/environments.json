{
  "_comment": "Domains are derived from server-config.json's domains.main. Only structure here.",
  "environments": {
    "production": {
      "key": "production",
      "displayName": "Production",
      "subdomain": "app",
      "port": 9000,
      "processName": "alive-production",
      "serviceType": "systemd",
      "systemdService": "alive-production.service",
      "serverScript": ".builds/production/current/standalone/apps/web/server.js",
      "buildPath": ".builds/production",
      "workspacePath": "/srv/webalive/sites",
      "isProduction": true,
      "hasHotReload": false,
      "deployCommand": "make wash-skip",
      "logsCommand": "journalctl -u alive-production.service -f",
      "restartCommand": "systemctl restart alive-production.service"
    },
    "staging": {
      "key": "staging",
      "displayName": "Staging",
      "subdomain": "staging",
      "port": 8998,
      "processName": "alive-staging",
      "serviceType": "systemd",
      "systemdService": "alive-staging.service",
      "serverScript": ".builds/staging/current/standalone/apps/web/server.js",
      "buildPath": ".builds/staging",
      "workspacePath": "/srv/webalive/sites",
      "isProduction": false,
      "hasHotReload": false,
      "deployCommand": "make staging",
      "logsCommand": "journalctl -u alive-staging.service -f",
      "restartCommand": "systemctl restart alive-staging.service"
    },
    "dev": {
      "key": "dev",
      "displayName": "Development",
      "subdomain": "dev",
      "port": 8997,
      "processName": "alive-dev",
      "serviceType": "systemd",
      "systemdService": "alive-dev.service",
      "serverScript": "node_modules/.bin/next",
      "workspacePath": "/srv/webalive/sites",
      "isProduction": false,
      "hasHotReload": true,
      "deployCommand": "make dev",
      "logsCommand": "journalctl -u alive-dev.service -f",
      "restartCommand": "systemctl restart alive-dev.service"
    }
  }
}
