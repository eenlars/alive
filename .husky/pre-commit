#!/bin/sh
# .husky/pre-commit

# SECURITY: Block .env files immediately (fast check)
if ! ./scripts/validation/check-no-env-files.sh; then
    echo ""
    echo "‚ùå SECURITY: .env files staged. Remove them before committing."
    exit 1
fi

# Only format files that are staged for commit (not the entire repo)
bun x lint-staged

# Type-check (turbo-cached, fast on warm cache)
bun run type-check
