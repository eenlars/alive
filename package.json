{
  "name": "alive-mono",
  "private": true,
  "packageManager": "bun@1.2.22",
  "workspaces": [
    "apps/*",
    "apps/mcp-servers/*",
    "packages/*"
  ],
  "scripts": {
    "build": "turbo run build",
    "dev": "cross-env HOSTED_ENV=computer ./scripts/deployment/deploy-dev.sh",
    "dev:turbo": "turbo run dev",
    "start": "turbo run start",
    "web": "cd apps/web && bun run dev",
    "format": "turbo run format --concurrency=1",
    "lint": "turbo run lint --concurrency=1",
    "ci": "turbo run ci --concurrency=1",
    "type-check": "turbo run type-check",
    "check:quick": "turbo run type-check ci --concurrency=1",
    "check:pre-push": "bun run validate:turbo-env && turbo run type-check && turbo run ci --concurrency=1 && bun run test:core",
    "check:comprehensive": "./scripts/validation/run-static-checks.sh",
    "check:all": "bun run check:quick && bun run test && bun run check:comprehensive",
    "validate:turbo-env": "bun scripts/validation/validate-turbo-env.ts",
    "static-check": "bun run validate:turbo-env && turbo run type-check && turbo run ci --concurrency=1 && bun run test:core",
    "knip": "knip --no-progress",
    "depcruise": "depcruise apps/web --config .dependency-cruiser.json",
    "test": "turbo run test",
    "test:core": "cd packages/tools && bun run test && cd ../.. && cd apps/web && bun run test",
    "unit": "bun run test:core",
    "e2e": "cd apps/web && bun run test:e2e",
    "gates": "cd apps/web && bun run test:gates",
    "postinstall": "bun run prepare:repo",
    "prepare": "husky",
    "prepare:repo": "bun run setup:template && bun run build:libs",
    "setup:template": "cd templates/site-template/user && bun install",
    "build:libs": "cross-env SKIP_ENV_VALIDATION=1 turbo run build --filter='./packages/*'",
    "setup": "./scripts/setup/copy-template.sh",
    "setup:server": "bun scripts/setup/server-setup.ts",
    "setup:server:prod": "bun scripts/setup/server-setup.ts --production --enable",
    "setup:standalone": "./scripts/setup-standalone.sh",
    "cleanup-test-db": "bun scripts/database/cleanup-test-database.ts",
    "superclean": "bun scripts/database/superclean.ts",
    "gen:db": "./scripts/database/generate-types.sh",
    "gen:systemd": "bun packages/site-controller/src/infra/generate-systemd.ts",
    "gen:routing": "bun packages/site-controller/src/infra/generate-routing.ts",
    "gen:all": "bun run gen:systemd && bun run gen:routing",
    "deploy-site": "bun scripts/deploy-site.ts",
    "setup-webhook": "./scripts/maintenance/setup-webhook.sh",
    "update-cors": "./scripts/maintenance/update-cors-domains.sh",
    "widget": "cd apps/widget-server && ./build.sh && go run main.go",
    "redis:setup": "bun --filter @webalive/redis setup",
    "redis:start": "bun --filter @webalive/redis start",
    "redis:stop": "bun --filter @webalive/redis stop",
    "redis:status": "bun --filter @webalive/redis status",
    "redis:logs": "bun --filter @webalive/redis logs",
    "redis:cli": "bun --filter @webalive/redis cli",
    "redis:health": "bun --filter @webalive/redis health",
    "redis:test": "bun --filter @webalive/redis test:integration",
    "see": "journalctl -u alive-production -n 1000 -f",
    "see:dev": "journalctl -u alive-dev -n 1000 -f",
    "shell-server": "cd apps/shell-server-go && make build && systemctl restart shell-server",
    "pull": "GIT_SSH_COMMAND='ssh -i ~/.ssh/id_lars_deploy_bot -o IdentitiesOnly=yes' git pull --rebase origin main",
    "push": "bash -c 'BRANCH=$(git branch --show-current) && [ -n \"$BRANCH\" ] && GIT_SSH_COMMAND=\"ssh -i ~/.ssh/id_lars_deploy_bot -o IdentitiesOnly=yes\" git push origin \"$BRANCH\" || { echo \"Error: not on a branch (detached HEAD)\"; exit 1; }'",
    "ship": "bash -c 'git add -A && git commit -m \"$1\" && git push' --"
  },
  "lint-staged": {
    "{apps,packages}/**/*.{ts,tsx,js,jsx,json}": [
      "./scripts/lint-staged-format.sh"
    ]
  },
  "overrides": {
    "vitest": "4.0.18",
    "@vitest/coverage-v8": "4.0.18",
    "@tanstack/react-query": "^5.90.20",
    "@tanstack/query-core": "^5.90.20",
    "esbuild": "0.27.3"
  },
  "devDependencies": {
    "@biomejs/biome": "2.3.14",
    "@playwright/test": "^1.56.1",
    "@types/bun": "^1.3.7",
    "cross-env": "^10.1.0",
    "dependency-cruiser": "^17.3.1",
    "dotenv": "^17.2.3",
    "husky": "^9.1.7",
    "knip": "^5.69.1",
    "lint-staged": "^16.2.7",
    "turbo": "^2.8.6"
  },
  "dependencies": {
    "@types/node": "^24.10.0"
  }
}
