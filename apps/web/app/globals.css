@import "tailwindcss";
@import "../components/login/login.css";
@import "../features/chat/components/ChatInput/composer.css";

@custom-variant dark (.dark &);

/* Satoshi Variable Font - for headings */
@font-face {
  font-display: swap;
  font-family: "Satoshi";
  src: url("/fonts/satoshi/Satoshi-Variable.woff2") format("woff2-variations"),
       url("/fonts/satoshi/Satoshi-Variable.woff") format("woff");
  font-style: normal;
  font-weight: 300 900;
}

/* Satoshi Bold - static fallback */
@font-face {
  font-display: swap;
  font-family: "Satoshi";
  src: url("/fonts/satoshi/Satoshi-Bold.woff2") format("woff2"),
       url("/fonts/satoshi/Satoshi-Bold.woff") format("woff");
  font-style: normal;
  font-weight: 700;
}

/* Diatype Variable Font */
@font-face {
  font-display: swap;
  font-family: "Diatype Variable";
  src: url("https://type.cargo.site/files/Cargo-DiatypePlusVariable.woff2") format("woff2-variations");
  font-style: normal;
  font-weight: 200 1000;
}

@font-face {
  font-display: swap;
  font-family: "Diatype Variable";
  src: url("https://type.cargo.site/files/Cargo-DiatypePlusVariable-Italic.woff2") format("woff2-variations");
  font-style: italic;
  font-weight: 200 1000;
}

@font-face {
  font-display: swap;
  font-family: "Diatype Semi-Mono Variable";
  src: url("https://type.cargo.site/files/Cargo-DiatypePlusVariable.woff2") format("woff2-variations");
  font-style: normal;
  font-weight: 200 700;
}

@font-face {
  font-display: swap;
  font-family: "Diatype Semi-Mono Variable";
  src: url("https://type.cargo.site/files/Cargo-DiatypePlusVariable-Italic.woff2") format("woff2-variations");
  font-style: italic;
  font-weight: 200 700;
}

@font-face {
  font-display: swap;
  font-family: "Diatype Mono Variable";
  src: url("https://type.cargo.site/files/Cargo-DiatypePlusVariable.woff2") format("woff2-variations");
  font-style: normal;
  font-weight: 200 700;
}

@font-face {
  font-display: swap;
  font-family: "Diatype Mono Variable";
  src: url("https://type.cargo.site/files/Cargo-DiatypePlusVariable-Italic.woff2") format("woff2-variations");
  font-style: italic;
  font-weight: 200 700;
}

/* Base Typography */
html,
body {
  height: 100%;
  overflow-x: hidden;
}

body {
  font-family: "Diatype Variable", "Inter", Arial, sans-serif;
  font-weight: 400;
  font-size: 14px;
  line-height: 1.625;
  letter-spacing: 0.02em;
  margin: 0;
  padding: 0;
}

/* Dark mode background */
.dark {
  background-color: #1a1a1a;
  color: white;
}

.font-diatype-mono {
  font-family: "Diatype Mono Variable", monospace;
}

.font-diatype-semi-mono {
  font-family: "Diatype Semi-Mono Variable", monospace;
}

.font-satoshi {
  font-family: "Satoshi", "Inter", Arial, sans-serif;
}

/* Headings use Satoshi Bold */
h1, h2, h3, h4, h5, h6 {
  font-family: "Satoshi", "Inter", Arial, sans-serif;
  font-weight: 700;
}

/* Global button styles */
button {
  cursor: pointer;
}

button:disabled {
  cursor: not-allowed;
}

/* Fix browser autofill background color */
/* Note: Consider using CSS variables (--background, --foreground) for better design token consistency */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active {
  -webkit-box-shadow: 0 0 0 30px white inset !important;
  -webkit-text-fill-color: black !important;
  caret-color: black !important;
}

.dark input:-webkit-autofill,
.dark input:-webkit-autofill:hover,
.dark input:-webkit-autofill:focus,
.dark input:-webkit-autofill:active {
  -webkit-box-shadow: 0 0 0 30px #18181b inset !important;
  -webkit-text-fill-color: white !important;
  caret-color: white !important;
}

/* Thinking Spinner Animation - Grow Pulse */
@keyframes thinkingGrow {
  0%, 100% {
    transform: scale(0.6);
    opacity: 0.5;
  }
  50% {
    transform: scale(1.2);
    opacity: 1;
  }
}

.thinking-grow {
  animation: thinkingGrow 1.4s ease-in-out infinite;
}

/* Alive Logo Animation - Breathing Pulse */
@keyframes aliveLogoOuter {
  0%, 100% {
    transform: scale(1);
    opacity: 0.1;
  }
  50% {
    transform: scale(1.08);
    opacity: 0.15;
  }
}

@keyframes aliveLogoInner {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.15);
    opacity: 0.85;
  }
}

.alive-logo-outer {
  transform-origin: center;
  animation: aliveLogoOuter 2.5s ease-in-out infinite;
}

.alive-logo-inner {
  transform-origin: center;
  animation: aliveLogoInner 2.5s ease-in-out infinite;
}

.thinking-spinner-stopped {
  animation-play-state: paused;
}

/* Shimmer Animation */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.animate-shimmer {
  animation: shimmer 2s ease-in-out infinite;
}

/* Hide scrollbar utility */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Prevent all zoom on mobile */
html {
  touch-action: manipulation;
}

/* Disable double-tap zoom on interactive elements */
button,
a,
input,
textarea,
select,
[role="button"] {
  touch-action: manipulation;
}

/* Mobile-specific fixes */
@media (max-width: 767px) {
  /* Prevent iOS Safari from zooming on input focus (requires 16px minimum) */
  input,
  textarea,
  select {
    font-size: 16px !important;
  }

  /* Force word breaking for long content on mobile */
  .whitespace-pre-wrap {
    word-break: break-word;
    overflow-wrap: break-word;
  }

  /* Ensure monospace content wraps */
  .font-diatype-mono {
    word-break: break-all;
    overflow-wrap: break-word;
  }

  /* Prevent code blocks from causing horizontal scroll */
  pre {
    max-width: 100%;
    overflow-x: auto;
  }

  code {
    word-break: break-word;
  }
}
