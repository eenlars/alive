# Claude Bridge Environment Variables
#
# Environment File Priority (Next.js loads in this order):
# 1. .env.local           (Highest priority - local overrides, gitignored)
# 2. .env.development     (Development: next dev)
# 3. .env.production      (Production: next build + next start)
# 4. .env.staging         (Staging: custom deployment)
# 5. .env                 (Base config - shared across all environments)
#
# Usage:
# - Copy .env.example to .env and configure base values
# - Use .env.local for personal overrides (never commit this file)
# - Environment-specific values are in .env.development, .env.staging, .env.production

# ============================================
# REQUIRED
# ============================================

# Your Claude API key from Anthropic
# Get it from: https://console.anthropic.com/settings/keys
# NOTE: If you're using Claude Code CLI, it will automatically use ANTHROPIC_API_KEY
# You only need to set ANTH_API_SECRET if running standalone
# ANTH_API_SECRET=sk-ant-xxxxx

# ============================================
# OPTIONAL - Security
# ============================================

# Passcode for accessing the bridge
# If empty, any passcode will work (NOT recommended for production)
BRIDGE_PASSCODE=supersecret

# JWT secret for session tokens (REQUIRED in production)
# Generate with: openssl rand -base64 32
# This prevents session token tampering
JWT_SECRET=

# ============================================
# OPTIONAL - Claude Configuration
# ============================================

# Claude model to use (default: claude-3-5-sonnet-20241022)
CLAUDE_MODEL=claude-sonnet-4-5

# ============================================
# OPTIONAL - Workspace Configuration
# ============================================

# Base directory for workspaces
# Default: /srv/webalive/sites (new systemd sites)
# Legacy: /claude-bridge/sites (old PM2 sites)
WORKSPACE_BASE=/claude-bridge/sites

# Server IP address shown in DNS setup documentation
# Users will point their domains to this IP
# NEXT_PUBLIC_SERVER_IP=203.0.113.1

# ============================================
# OPTIONAL - Auto-Deployment (GitHub Webhooks)
# ============================================

# GitHub webhook secret for secure auto-deployment
# Generate with: bun run setup-webhook
# GITHUB_WEBHOOK_SECRET=your_webhook_secret_here

# Git branch to deploy (only this branch triggers deployment)
# DEPLOY_BRANCH=main

# ============================================
# OPTIONAL - Additional Integrations
# ============================================

# Groq API key (if using Groq for additional features)
# GROQ_API_SECRET=gsk_xxxxx

# Stripe MCP Server OAuth Token
# Used for Stripe integration via MCP (Model Context Protocol)
# Restricted to larsvandeneeden.com workspace only
# Get OAuth token from: https://dashboard.stripe.com/oauth
# STRIPE_OAUTH_TOKEN=your_oauth_token_here

# Flowglad Secret Key
# Used for billing/payment integration via Flowglad
# Get from: https://app.flowglad.com
# FLOWGLAD_SECRET_KEY=sk_test_xxxxx

# ============================================
# OPTIONAL - Supabase Integration
# ============================================

# Supabase - Server (private, never exposed to browser)
# Get these from: https://app.supabase.com/project/_/settings/api
# SUPABASE_URL=https://yourproject.supabase.co
# SUPABASE_PROJECT_ID=yourproject
# SUPABASE_ANON_KEY=eyJhbGc...           # For RLS-enforced queries
# SUPABASE_SERVICE_ROLE_KEY=eyJhbGc...   # Admin key (bypasses RLS) - NEVER expose to browser

# Supabase - Client (browser-safe, NEXT_PUBLIC_ prefix)
# These are safe to expose to the browser
# NEXT_PUBLIC_SUPABASE_URL=https://yourproject.supabase.co
# NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGc...  # Same as SUPABASE_ANON_KEY above

# ============================================
# LOCAL DEVELOPMENT ONLY
# ============================================

# Enable local development mode (test user: test/test)
# BRIDGE_ENV=local

# Absolute path to template workspace for local development
# LOCAL_TEMPLATE_PATH=/root/webalive/claude-bridge/packages/template/user

# Superadmin access (comma-separated emails)
SUPERADMIN_EMAILS=your-email@example.com

# ============================================
# OPTIONAL - PostHog Analytics & Error Tracking
# ============================================

# PostHog project API key (for client-side tracking, starts with phc_)
# Get from: PostHog dashboard > Project Settings > Project API Key
# NEXT_PUBLIC_POSTHOG_KEY=phc_xxxxx

# PostHog host (defaults to https://eu.i.posthog.com if not set)
# NEXT_PUBLIC_POSTHOG_HOST=https://eu.i.posthog.com

# PostHog personal API key (for server-side API access, starts with phx_)
# Get from: PostHog dashboard > Settings > Personal API Keys
# POSTHOG_PERSONAL_API_KEY=phx_xxxxx
